{"version":3,"sources":["components/Loading.jsx","components/CovidMap.jsx","tasks/LoadNationalTask.js","components/NationalStats.jsx","components/Legend.jsx","entities/LegendItem.js","entities/LegendItems.js","components/Footer.jsx","tasks/LoadStatesTask.js","components/Header.jsx","components/Main.jsx","App.js","index.js"],"names":["Loading","style","height","display","justifyContent","alignItems","className","role","CovidMap","country","useState","paneStats","highlight","fillColor","weight","opacity","SetResizeListener","map","useMap","window","addEventListener","viewportWidth","innerWidth","viewportHeight","innerHeight","setZoom","SetInitialMapZoom","Media","min","MapContainer","center","zoom","maxZoom","scrollWheelZoom","zoomSnap","zoomControl","interactive","dragging","doubleClickZoom","layers","L","tileLayer","attribution","GeoJSON","fillOpacity","color","dashArray","data","onEachFeature","state","layer","stateName","properties","STATE_NAME","confirmedText","recoveredText","deathsText","options","legendColor","baseText","hoverText","on","setStyle","document","querySelector","innerHTML","stateCasesText","bindPopup","id","fontWeight","fontSize","LoadNationalTask","covid19DataUrl","setState","loadNational","papa","parse","download","header","complete","res","nationalData","pop","currentNationalCovidInfo","slice","length","NationalStats","dayBefore","national","day","numberWithCommas","num","toString","replace","ConfirmedStats","difference","Number","confirmed","RecoveredStats","recovered","DeathsStats","deaths","Legend","legendItems","item","backgroundColor","flex","textColor","textAlign","title","LegendItem","isFor","this","cases","Footer","oldDateFormat","date","split","href","LoadStatesTask","loadStates","stateMap","stateCovidInfo","countryJSON","countryFeatures","default","features","currentStatesCovidInfo","Math","max","i","currentState","currentStateInfo","find","administrative_area_level_2","mapState","legendItem","Header","marginTop","width","marginLeft","marginRight","Main","setCountry","setNational","legendItemsInReverse","reverse","useEffect","bannerColor","octoColor","size","direction","App","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.a9278dc5.chunk.js","sourcesContent":["import React from \"react\"\r\n\r\nconst Loading = () => {\r\n  return (\r\n    <div\r\n      style={{\r\n        height: \"100vh\",\r\n        display: \"flex\",\r\n        justifyContent: \"center\",\r\n        alignItems: \"center\",\r\n      }}\r\n    >\r\n      <div className=\"spinner-border text-success\" role=\"status\">\r\n        <span className=\"visually-hidden\">Loading...</span>\r\n      </div>\r\n      <div className=\"spinner-border text-danger\" role=\"status\">\r\n        <span className=\"visually-hidden\">Loading...</span>\r\n      </div>\r\n      <div className=\"spinner-border text-info\" role=\"status\">\r\n        <span className=\"visually-hidden\">Loading...</span>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Loading\r\n","import React, { useState } from \"react\"\r\nimport { MapContainer, GeoJSON, useMap } from \"react-leaflet\"\r\nimport \"leaflet/dist/leaflet.css\"\r\nimport \"./CovidMap.css\"\r\nimport L from \"leaflet\"\r\nimport { Media } from \"js-media-query\"\r\n\r\nconst CovidMap = ({ country }) => {\r\n  const [paneStats, setPaneStats] = useState(\r\n    `Hover over a state to inspect`\r\n  )\r\n\r\n  const mapStyle = {\r\n    fillColor: \"#dbe2f0\",\r\n    fillOpacity: 1,\r\n    weight: 2,\r\n    opacity: 1,\r\n    color: \"#ffffff\",\r\n    dashArray: \"2\",\r\n  }\r\n  let highlight = {\r\n    fillColor: \"#1f2d47\",\r\n    weight: 2,\r\n    opacity: 1,\r\n  }\r\n  const onEachState = (state, layer) => {\r\n    let stateName = state.properties.STATE_NAME\r\n    const confirmedText = state.properties.confirmedText\r\n    const recoveredText = state.properties.recoveredText\r\n    const deathsText = state.properties.deathsText\r\n\r\n    layer.options.fillColor = state.properties.color\r\n\r\n    const legendColor = {\r\n      fillColor: state.properties.color,\r\n      fillOpacity: 1,\r\n      weight: 2,\r\n      opacity: 1,\r\n      color: \"#ffffff\",\r\n      dashArray: \"2\",\r\n    }\r\n\r\n    let baseText = `\r\n    <h4 style=\"font-weight: bold; font-size: 13px; color: #777\">Confirmed Cases by State</h4>\r\n    `\r\n\r\n    let hoverText = `\r\n    <p>Hover over a state to inspect</p>\r\n    `\r\n\r\n    layer.on(\"mouseout\", () => {\r\n      layer.setStyle(legendColor)\r\n      document.querySelector(\"#info-pane\").innerHTML = baseText + hoverText\r\n    })\r\n\r\n    let stateCasesText = `\r\n    <div style=\"text-align: center\">\r\n    <p style=\"font-size: 14px;\"><b>${stateName}</b>\r\n    \\n\r\n    <p style=\"font-weight: 300\"> Confirmed:\r\n    <span style=\"color: orange; font-weight: 600;font-size: 13px;\">${confirmedText}</span>\r\n    \\n\r\n    <p style=\"font-weight: 300\"> Recovered:\r\n    <span style=\"color: green; font-weight: 600;font-size: 13px;\">${recoveredText} </span>\r\n\r\n    \\n\r\n    <p style=\"font-weight: 300\"> Deaths:\r\n    <span style=\"color: red; font-weight: 600;font-size: 13px;\">${deathsText}</span>\r\n\r\n    </div>\r\n    `\r\n\r\n    // on mouseover highlight selected state and show that state's info\r\n    layer.on(\"mouseover\", () => {\r\n      layer.setStyle(highlight)\r\n      document.querySelector(\"#info-pane\").innerHTML = baseText + stateCasesText\r\n    })\r\n\r\n    layer.on(\"click\", () => {\r\n      document.querySelector(\"#info-pane\").innerHTML = baseText + hoverText\r\n      layer.setStyle(highlight)\r\n    })\r\n    layer.bindPopup(stateCasesText)\r\n  }\r\n\r\n  function SetResizeListener() {\r\n    const map = useMap()\r\n    window.addEventListener(\"resize\", () => {\r\n      let viewportWidth = window.innerWidth\r\n      let viewportHeight = window.innerHeight\r\n      if (viewportWidth < 768 && viewportHeight < 768) {\r\n        map.setZoom(3.25)\r\n      } else if (viewportWidth >= 768 && viewportWidth < 1024) {\r\n        map.setZoom(3.5)\r\n      } else {\r\n        map.setZoom(4.25)\r\n      }\r\n    })\r\n    return null\r\n  }\r\n\r\n  function SetInitialMapZoom() {\r\n    let map = useMap()\r\n    if (Media.min(768)) {\r\n      map.setZoom(4)\r\n    } else if (Media.min(480)) {\r\n      map.setZoom(3.5)\r\n    } else {\r\n      map.setZoom(3.3)\r\n    }\r\n    return null\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <MapContainer\r\n        center={[-28.734968, 134.489563]}\r\n        zoom={4}\r\n        maxZoom={4}\r\n        scrollWheelZoom={false}\r\n        zoomSnap={0.1}\r\n        zoomControl={false}\r\n        interactive={false}\r\n        dragging={false}\r\n        doubleClickZoom={false}\r\n        layers={[\r\n          L.tileLayer(\"\", {\r\n            attribution: \"Map data &copy; OpenStreetMap contributors\",\r\n          }),\r\n        ]}\r\n      >\r\n        <GeoJSON style={mapStyle} data={country} onEachFeature={onEachState} />\r\n        <SetResizeListener />\r\n        <SetInitialMapZoom />\r\n        <div className=\"leaflet-top leaflet-right\">\r\n          <div className=\"leaflet-control leaflet-bar\" id=\"info-pane\">\r\n          <h4 style={{fontWeight: \"bold\", fontSize: \"13px\", color: \"#777\"}}>Confirmed Cases by State</h4>\r\n          {paneStats}\r\n          </div>\r\n        </div>\r\n      </MapContainer>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default CovidMap\r\n","import papa from \"papaparse\"\r\n\r\nclass LoadNationalTask {\r\n  covid19DataUrl =\r\n    \"https://raw.githubusercontent.com/M3IT/COVID-19_Data/master/Data/COVID_AU_national_cumulative.csv\"\r\n\r\n  setState = null\r\n\r\n  loadNational = (setState) => {\r\n    this.setState = setState\r\n    papa.parse(this.covid19DataUrl, {\r\n      download: true,\r\n      header: true,\r\n      complete: (res) => this.#processNationalData(res.data),\r\n    })\r\n  }\r\n\r\n  #processNationalData = (nationalData) => {\r\n    // remove empty last element\r\n    // take data from last two entries\r\n    nationalData.pop()\r\n    let currentNationalCovidInfo = nationalData.slice(\r\n      nationalData.length - 2,\r\n      nationalData.length\r\n    )\r\n    this.setState(currentNationalCovidInfo)\r\n  }\r\n}\r\n\r\nexport default LoadNationalTask\r\n","import React from \"react\"\r\nimport \"./NationalStats.css\"\r\n\r\nconst NationalStats = (data) => {\r\n  const dayBefore = data.national[0]\r\n  const day = data.national[1]\r\n\r\n  const numberWithCommas = (num) => {\r\n    return num.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\")\r\n  }\r\n  const ConfirmedStats = () => {\r\n    let difference = Number(day.confirmed) - Number(dayBefore.confirmed)\r\n    if (difference > 0) {\r\n      return (\r\n        <span className=\"difference\">\r\n          +<span id=\"new-confirmed\">{numberWithCommas(difference)}</span> cases\r\n          in the past day{\" \"}\r\n        </span>\r\n      )\r\n    } else {\r\n      return <span className=\"difference\">No new cases in the past day</span>\r\n    }\r\n  }\r\n  const RecoveredStats = () => {\r\n    let difference = Number(day.recovered) - Number(dayBefore.recovered)\r\n\r\n    if (difference > 0) {\r\n      return (\r\n        <span className=\"difference\">\r\n          +<span id=\"new-recovered\">{numberWithCommas(difference)}</span>{\" \"}\r\n          recoveries in the past day{\" \"}\r\n        </span>\r\n      )\r\n    } else {\r\n      return (\r\n        <span className=\"difference\">No new recoveries in the past day</span>\r\n      )\r\n    }\r\n  }\r\n  const DeathsStats = () => {\r\n    let difference = Number(day.deaths) - Number(dayBefore.deaths)\r\n    if (difference > 0) {\r\n      return (\r\n        <span className=\"difference\">\r\n          +<span id=\"new-deaths\">{numberWithCommas(difference)}</span> deaths in\r\n          the past day{\" \"}\r\n        </span>\r\n      )\r\n    } else {\r\n      return <span className=\"difference\">No new deaths in the past day</span>\r\n    }\r\n  }\r\n  return (\r\n    <div id=\"box\">\r\n      <div id=\"confirmed-card\">\r\n        <span>\r\n          <b>Confirmed</b>\r\n        </span>\r\n        <span id=\"confirmed\">{numberWithCommas(day.confirmed)}</span>\r\n        <div id=\"new-confirmed-box\">\r\n          <ConfirmedStats />\r\n        </div>\r\n      </div>\r\n      <div id=\"recovered-card\">\r\n        <span>\r\n          <b>Recovered</b>\r\n        </span>\r\n        <span id=\"recovered\">{numberWithCommas(day.recovered)}</span>\r\n        <div id=\"new-recovered-box\">\r\n          <RecoveredStats />\r\n        </div>\r\n      </div>\r\n      <div id=\"deaths-card\">\r\n        <span>\r\n          <b>Deaths</b>\r\n        </span>\r\n        <span id=\"deaths\">{numberWithCommas(day.deaths)}</span>\r\n        <div id=\"new-deaths-box\">\r\n          <DeathsStats />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default NationalStats\r\n","import React from \"react\"\r\n\r\nconst Legend = ({ legendItems }) => {\r\n  return (\r\n    <div\r\n      style={{\r\n        display: \"flex\",\r\n        alignItems: \"stretch\",\r\n      }}\r\n    >\r\n      {legendItems.map((item) => (\r\n        <div\r\n          key={item.title}\r\n          style={{\r\n            backgroundColor: item.color,\r\n            flex: 1,\r\n            display: \"flex\",\r\n            alignItems: \"center\",\r\n            justifyContent: \"center\",\r\n            color: item.textColor,\r\n            height: \"5vh\",\r\n            fontWeight: \"500\",\r\n            textAlign: \"center\",\r\n            fontSize: \"15px\",\r\n          }}\r\n        >\r\n          <span>{item.title}</span>\r\n        </div>\r\n      ))}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Legend\r\n","class LegendItem {\r\n  constructor(title, color, isFor, textColor) {\r\n    this.title = title\r\n    this.color = color\r\n    this.isFor = isFor\r\n    this.textColor = textColor != null ? textColor : \"black\"\r\n  }\r\n}\r\n\r\nexport default LegendItem\r\n","import LegendItem from \"./LegendItem\"\r\n\r\nconst legendItems = [\r\n  new LegendItem(\"50,000 +\", \"#2e436b\", (cases) => cases > 50_000, \"white\"),\r\n  new LegendItem(\r\n    \"10,000 - 50,000\",\r\n    \"#4565a1\",\r\n    (cases) => cases > 10_000 && cases <= 50_000,\r\n    \"white\"\r\n  ),\r\n  new LegendItem(\r\n    \"1,000 - 10,000\",\r\n    \"#829bc9\",\r\n    (cases) => (cases > 1_000) & (cases <= 10_000),\r\n    \"black\"\r\n  ),\r\n  new LegendItem(\r\n    \"0 - 1,000\",\r\n    \"#c9d4e8\",\r\n    (cases) => (cases >= 0) & (cases <= 1_000),\r\n    \"black\"\r\n  ),\r\n]\r\n\r\nexport default legendItems\r\n","import React from \"react\"\r\nimport \"./Footer.css\"\r\n\r\nconst Footer = (data) => {\r\n  let oldDateFormat = data.national[1].date.split(\"-\")\r\n  let date = oldDateFormat[2] + \"-\" + oldDateFormat[1] + \"-\" + oldDateFormat[0]\r\n  return (\r\n    <div id=\"last-updated\">\r\n      Data last updated: <b>{date}</b>\r\n      <div>\r\n        Data sourced from:{\" \"}\r\n        <a\r\n          aria-label=\"covid data from covid19data.com.au\"\r\n          href=\"https://github.com/M3IT/COVID-19_Data\"\r\n        >\r\n          COVID19Data.com.au\r\n        </a>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Footer\r\n","import papa from \"papaparse\"\r\nimport * as stateMap from \"../data/australia.json\"\r\nimport legendItems from \"../entities/LegendItems\"\r\n\r\nclass LoadStatesTask {\r\n  covid19DataUrl =\r\n    \"https://raw.githubusercontent.com/M3IT/COVID-19_Data/master/Data/COVID_AU_cumulative.csv\"\r\n\r\n  setState = null\r\n\r\n  loadStates = (setState) => {\r\n    let country = stateMap\r\n    this.setState = setState\r\n    papa.parse(this.covid19DataUrl, {\r\n      download: true,\r\n      header: true,\r\n      complete: (res) => this.#processCovidData(res.data, country),\r\n    })\r\n  }\r\n\r\n  #processCovidData = (stateCovidInfo, countryJSON) => {\r\n    let countryFeatures = countryJSON.default.features\r\n\r\n    // removes last item which is an empty object\r\n    // stores last eight items of data that correspond to the most recent data of the eight states/territories\r\n    stateCovidInfo.pop()\r\n    let currentStatesCovidInfo = stateCovidInfo.slice(\r\n      Math.max(stateCovidInfo.length - 8)\r\n    )\r\n\r\n    for (let i = 0; i < countryFeatures.length; i++) {\r\n      const currentState = countryFeatures[i]\r\n      const currentStateInfo = currentStatesCovidInfo.find(\r\n        (state) =>\r\n          state.administrative_area_level_2 ===\r\n          currentState.properties.STATE_NAME\r\n      )\r\n\r\n      currentState.properties.confirmed = 0\r\n      currentState.properties.recovered = 0\r\n      currentState.properties.deaths = 0\r\n      currentState.properties.confirmedText = \"0\"\r\n      currentState.properties.recoveredText = \"0\"\r\n      currentState.properties.deathsText = \"0\"\r\n\r\n      if (currentStateInfo !== null) {\r\n        const confirmed = Number(currentStateInfo.confirmed)\r\n        currentState.properties.confirmed = confirmed\r\n        currentState.properties.confirmedText =\r\n          this.#numberWithCommas(confirmed)\r\n        const recovered = Number(currentStateInfo.recovered)\r\n        currentState.properties.recovered = recovered\r\n        currentState.properties.recoveredText =\r\n          this.#numberWithCommas(recovered)\r\n        const deaths = Number(currentStateInfo.deaths)\r\n        currentState.properties.deaths = deaths\r\n        currentState.properties.deathsText = this.#numberWithCommas(deaths)\r\n      }\r\n\r\n      this.#setCountryColor(currentState)\r\n    }\r\n    this.setState(countryFeatures)\r\n  }\r\n\r\n  #setCountryColor = (mapState) => {\r\n    const legendItem = legendItems.find((legendItem) =>\r\n      legendItem.isFor(mapState.properties.confirmed)\r\n    )\r\n    if (legendItem != null) {\r\n      mapState.properties.color = legendItem.color\r\n    }\r\n  }\r\n\r\n  #numberWithCommas = (num) => {\r\n    return num.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\")\r\n  }\r\n}\r\n\r\nexport default LoadStatesTask\r\n","import React from \"react\"\r\n\r\nconst Header = () => {\r\n  return (\r\n    <div\r\n      style={{\r\n        display: \"flex\",\r\n        justifyContent: \"center\",\r\n        marginTop: \"1rem\",\r\n        textAlign: \"center\",\r\n        width: \"60%\",\r\n        marginLeft: \"auto\",\r\n        marginRight: \"auto\",\r\n      }}\r\n    >\r\n      <h1>COVID 19 Statistics for Australia</h1>\r\n      <hr />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Header\r\n","import React, { useState, useEffect } from \"react\"\r\nimport Loading from \"./Loading\"\r\nimport CovidMap from \"./CovidMap\"\r\nimport LoadNationalTask from \"../tasks/LoadNationalTask\"\r\nimport NationalStats from \"./NationalStats\"\r\nimport Legend from \"./Legend\"\r\nimport legendItems from \"../entities/LegendItems\"\r\nimport Footer from \"./Footer\"\r\nimport LoadStatesTask from \"../tasks/LoadStatesTask\"\r\nimport GithubCorner from \"react-github-corner\"\r\nimport Header from \"./Header\"\r\n\r\nconst Main = () => {\r\n  const [country, setCountry] = useState([])\r\n  const [national, setNational] = useState([])\r\n  const legendItemsInReverse = [...legendItems].reverse()\r\n\r\n  const loadStates = () => {\r\n    const loadStates = new LoadStatesTask()\r\n    loadStates.loadStates(setCountry)\r\n  }\r\n\r\n  const loadNational = () => {\r\n    const loadNationalTask = new LoadNationalTask()\r\n    loadNationalTask.loadNational(setNational)\r\n  }\r\n\r\n  useEffect(() => {\r\n    loadStates()\r\n    loadNational()\r\n  }, [])\r\n\r\n  return (\r\n    <div>\r\n      {country.length === 0 || national.length === 0 ? (\r\n        <Loading />\r\n      ) : (\r\n        <div>\r\n          <Header />\r\n          <GithubCorner\r\n            href={\"https://github.com/shanerodrigues/react-covid-map-aus\"}\r\n            bannerColor=\"#151513\"\r\n            octoColor=\"#fff\"\r\n            size={80}\r\n            direction=\"right\"\r\n          />\r\n          <NationalStats national={national} />\r\n          <CovidMap country={country} />\r\n          <Legend legendItems={legendItemsInReverse} />\r\n          <Footer national={national} />\r\n        </div>\r\n      )}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Main\r\n","import React from \"react\"\r\nimport Main from \"./components/Main\"\r\n\r\nfunction App() {\r\n  return <Main />\r\n}\r\n\r\nexport default App\r\n","import React from \"react\"\r\nimport ReactDOM from \"react-dom\"\r\nimport \"./index.css\"\r\nimport App from \"./App\"\r\nimport \"bootstrap/dist/css/bootstrap.min.css\"\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n)\r\n"],"sourceRoot":""}